name: Build and Deploy-Dev

on:
  
  workflow_dispatch:
  push:
    branches:
      - main
      - 496-unify-workflow-v2
    paths:
      - "bots/**"
      - "libraries/**"
      - "services/**"
      - ".github/workflows/SSW.SophieBot.dev.yml"
      - ".github/workflows/scripts/**"


jobs:
  call-work-flow:
    runs-on: ubuntu-latest
    environment: Deploy-Dev
    steps:
      - uses: ./.github/workflows/reuse.workflow.yml  
        with:
          BOT_APP_APPSETTINGS: ${{ secrets.BOT_APP_APPSETTINGS }}
          LUIS_AUTHORING_KEY: ${{ secrets.LUIS_AUTHORING_KEY }}
          BOT_WEBAPP_PUBLISH_PROFILE: ${{ secrets.BOT_WEBAPP_PUBLISH_PROFILE }}
          LUIS_MIGRATOR_APPSETTINGS : ${{ secrets.LUIS_MIGRATOR_APPSETTINGS }}
      